/* Path: src/components/atoms/Input/InputText.module.css */
/* ═══════════════════════════════════════════════════════════════════════════════
   SENTINEL DESIGN SYSTEM v3.3 - InputText Component

   STONE MARBLE NEUMORPHISM - INSET (Level 2)
   - Uses --marble-dark background for sunken appearance
   - Uses --inset-* shadow variables for consistent depth
   - Follows hierarchy: RAISED → INSET → GLASS
   ═══════════════════════════════════════════════════════════════════════════════ */

/* ─────────────────────────────────────────────────────────────────────────────
   CONTAINER & WRAPPER
   ───────────────────────────────────────────────────────────────────────────── */

.container {
  display: flex;
  flex-direction: column;
  width: 100%;
}

.inputWrapper {
  position: relative;
  width: 100%;
}

/* ─────────────────────────────────────────────────────────────────────────────
   BASE INPUT - Light Neumorphic Pressed (Sunken)
   ───────────────────────────────────────────────────────────────────────────── */

.input {
  width: 100%;
  height: 44px;
  font-family: var(--sentinel-font-primary);
  font-size: 14px;
  letter-spacing: 0;
  padding: 14px 16px;
  background: var(--marble-dark);
  border: 1px solid rgba(163, 177, 198, 0.3);
  border-radius: var(--sentinel-radius-input);
  color: var(--sentinel-text-primary);
  transition: all 0.2s ease;
  box-sizing: border-box;
  outline: none;

  /* Stone Marble INSET shadow - sunken into surface */
  box-shadow: var(--inset-2);
}

.input::placeholder {
  color: var(--sentinel-text-muted);
}

.input:hover:not(:disabled):not(:focus) {
  border-color: rgba(163, 177, 198, 0.5);
  background: var(--marble-dark);
}

.input:focus {
  border-color: rgba(74, 154, 156, 0.6);
  background: var(--marble-base);

  /* INSET shadow + accent focus glow */
  box-shadow:
    var(--inset-3),
    0 0 0 3px rgba(74, 154, 156, 0.15),
    0 0 12px rgba(74, 154, 156, 0.1);
}

.input:disabled {
  background: var(--marble-deeper);
  border-color: rgba(163, 177, 198, 0.2);
  color: var(--sentinel-text-disabled);
  cursor: not-allowed;
  box-shadow: var(--inset-1);
}

/* ─────────────────────────────────────────────────────────────────────────────
   ERROR STATE
   ───────────────────────────────────────────────────────────────────────────── */

.inputError {
  border-color: rgba(184, 92, 92, 0.5);
  box-shadow:
    var(--inset-2),
    inset 0 0 8px rgba(184, 92, 92, 0.08);
}

.inputError:hover:not(:disabled):not(:focus) {
  border-color: rgba(184, 92, 92, 0.7);
}

.inputError:focus {
  border-color: var(--sentinel-status-negative);
  box-shadow:
    var(--inset-3),
    0 0 0 3px rgba(184, 92, 92, 0.15),
    0 0 12px rgba(184, 92, 92, 0.1);
}

/* ─────────────────────────────────────────────────────────────────────────────
   SUCCESS STATE
   ───────────────────────────────────────────────────────────────────────────── */

.inputSuccess {
  border-color: rgba(74, 154, 124, 0.5);
  box-shadow:
    var(--inset-2),
    inset 0 0 8px rgba(74, 154, 124, 0.08);
}

.inputSuccess:hover:not(:disabled):not(:focus) {
  border-color: rgba(74, 154, 124, 0.7);
}

.inputSuccess:focus {
  border-color: var(--sentinel-status-positive);
  box-shadow:
    var(--inset-3),
    0 0 0 3px rgba(74, 154, 124, 0.15),
    0 0 12px rgba(74, 154, 124, 0.1);
}

/* ─────────────────────────────────────────────────────────────────────────────
   WITH ICON
   ───────────────────────────────────────────────────────────────────────────── */

.inputWithIcon {
  padding-left: 44px;
}

.icon {
  position: absolute;
  left: 14px;
  top: 50%;
  transform: translateY(-50%);
  display: flex;
  align-items: center;
  justify-content: center;
  line-height: 0;
  color: var(--sentinel-text-muted);
  pointer-events: none;
  transition: color 0.2s ease;
}

/* Icon color on focus */
.container:focus-within .icon {
  color: var(--sentinel-accent-primary);
}

/* ─────────────────────────────────────────────────────────────────────────────
   WITH SUFFIX (right icon or text)
   ───────────────────────────────────────────────────────────────────────────── */

.inputWithSuffix {
  padding-right: 44px;
}

.suffix {
  position: absolute;
  right: 14px;
  top: 50%;
  transform: translateY(-50%);
  color: var(--sentinel-text-muted);
  pointer-events: none;
}

/* ─────────────────────────────────────────────────────────────────────────────
   SIZES
   ───────────────────────────────────────────────────────────────────────────── */

.inputSm {
  height: 36px;
  font-size: 13px;
  padding: 10px 14px;
  border-radius: var(--sentinel-radius-sm);
  box-shadow: var(--inset-1);
}

.inputSm.inputWithIcon {
  padding-left: 38px;
}

.inputLg {
  height: 52px;
  font-size: 15px;
  padding: 16px 18px;
  border-radius: var(--sentinel-radius-md);
  box-shadow: var(--inset-3);
}

.inputLg.inputWithIcon {
  padding-left: 50px;
}

/* ─────────────────────────────────────────────────────────────────────────────
   LABEL
   ───────────────────────────────────────────────────────────────────────────── */

.label {
  display: block;
  font-family: var(--sentinel-font-primary);
  font-size: 12px;
  font-weight: var(--sentinel-font-medium);
  color: var(--sentinel-text-secondary);
  margin-bottom: 8px;
  letter-spacing: 0.02em;
}

/* ─────────────────────────────────────────────────────────────────────────────
   HELPER TEXT
   ───────────────────────────────────────────────────────────────────────────── */

.helperText {
  font-size: 12px;
  color: var(--sentinel-text-muted);
  margin-top: 6px;
}

.helperTextError {
  color: var(--sentinel-status-negative);
}

.helperTextSuccess {
  color: var(--sentinel-status-positive);
}

/* ─────────────────────────────────────────────────────────────────────────────
   DYNAMIC SHADOWS - Light Engine Integration
   When enabled, shadows are calculated via inline styles from useDynamicShadows
   ───────────────────────────────────────────────────────────────────────────── */

.dynamicShadows {
  /* Fast transition for light engine responsiveness */
  transition: var(--transition-shadow), border-color 0.2s ease, background 0.2s ease;
}

.dynamicShadows:focus {
  /* Add focus ring while keeping dynamic shadow from inline style */
  box-shadow:
    var(--sentinel-neu-pressed-sm),
    0 0 0 3px rgba(74, 154, 156, 0.15),
    0 0 12px rgba(74, 154, 156, 0.1) !important;
}

/* ─────────────────────────────────────────────────────────────────────────────
   REDUCED MOTION
   ───────────────────────────────────────────────────────────────────────────── */

@media (prefers-reduced-motion: reduce) {
  .input,
  .icon {
    transition: none;
  }
}
